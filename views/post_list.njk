{% extends 'base.njk' %}
{% block content %}
  <!-- Page Heading -->
  <!-- DataTales Example -->
  <div class="card shadow mb-4">
    <div class="card-header py-3">
      <h6 class="m-0 font-weight-bold text-success">{{boardName_kor}}게시판</h6>
    </div>
    <div class="card-body">
      <div class="table-responsive">
        <table
        class="table table-bordered"
        id="dataTable"
        width="100%"
        cellspacing="0"
      >
          <thead>
            <tr>
              <th width="60%">글 제목</th>
              <th>작성 날짜</th>
              <th>작성자</th>
            </tr>
          </thead>
          <tbody>
            {% for post in posts %}
              <tr>
                <td>
                  <a href="/boards/{{boardType}}/detail/{{ post.id }}">{{ post.title }}</a>
                </td>
                <td>{{ post.createdAt }}</td>

                {% if boardType == 'anonymous' %}
                  <td>익명</td>
                {% else %}
                  <td>{{ post.author }}</td>
                {% endif %}
              </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <!-- Pagination -->
  <ul class="pagination">
    <li class="page-item">
      <a href="?page=1" class="page-link">First</a>
    </li>
    {% if paginate.hasPreviousPages %}
      <li class="page-item">
        <a href="{{paginate.href(true)}}" class="page-link">Previous</a>
      </li>
    {% endif %}
    {% if pages %}
      {% for page in pages %}
        <li class="page-item">
          <a href="{{page.url}}" class="page-link">{{page.number}}</a>
        </li>
      {% endfor %}
    {% endif %}

    {% if paginate.hasNextPages(pageCount) %}
      <li class="page-item">
        <a href="{{paginate.href()}}" class="page-link">Next</a>
      </li>
    {% endif %}
    <li class="page-item">
      <a href="?page={{pageCount}}" class="page-link">Last</a>
    </li>
  </ul>

  {% if user %}
    <a href="/boards/{{boardType}}/post" class="btn btn-success btn-icon-split">
      <span class="icon text-white-50">
        <i class="fas fa-flag"></i>
      </span>
      <span class="text">글쓰기</span>
    </a>
  {% endif %}
{% endblock %}